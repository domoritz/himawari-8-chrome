{"version":3,"file":"bundle.js","sources":["node_modules/tslib/tslib.es6.js","node_modules/d3-time/src/interval.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/utcDay.js","node_modules/d3-time/src/utcWeek.js","node_modules/d3-time/src/utcYear.js","node_modules/d3-time-format/src/locale.js","node_modules/d3-time-format/src/defaultLocale.js","src/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import { utcFormat, utcParse } from \"d3-time-format\";\n\n// base url for images\nconst HIMAWARI_BASE_URL = \"https://himawari8-dl.nict.go.jp/himawari8/img/\";\nconst DSCOVR_BASE_URL = \"https://epic.gsfc.nasa.gov/\";\n\nconst SLIDER_BASE_URL = \"https://rammb-slider.cira.colostate.edu/data/\";\n\n// links to online image explorers\nconst HIMAWARI_EXPLORER = \"https://himawari8.nict.go.jp/himawari8-image.htm?sI=D531106\";\nconst DSCOVR_EXPLORER = \"https://epic.gsfc.nasa.gov\";\nconst DSCOVR_EXPLORER_ENHANCED = DSCOVR_EXPLORER + \"/enhanced\";\nconst SLIDER_EXPLORER = \"https://rammb-slider.cira.colostate.edu/\";\nconst METEOSAT_EXPLORER = \"https://eumetview.eumetsat.int/static-images/\";\n\n// image types\nconst INFRARED = \"INFRARED_FULL\";\nconst VISIBLE_LIGHT = \"D531106\";\nconst DSCOVR_EPIC = \"EPIC\";\nconst DSCOVR_EPIC_ENHANCED = \"EPIC_ENHANCED\";\nconst GOES_16 = \"GOES_16\";\nconst GOES_16_NATURAL = \"GOES_16_NATURAL\";\nconst GOES_17 = \"GOES_17\";\nconst GOES_17_NATURAL = \"GOES_17_NATURAL\";\nconst METEOSAT = \"METEOSAT\";\nconst METEOSAT_IODC = \"METEOSAT_IODC\";\n\ntype ImageType = typeof INFRARED | typeof VISIBLE_LIGHT | typeof DSCOVR_EPIC |\n  typeof DSCOVR_EPIC_ENHANCED | typeof GOES_16 | typeof GOES_16_NATURAL | typeof GOES_17 | typeof GOES_17_NATURAL |\n  typeof METEOSAT | typeof METEOSAT_IODC;\n\nconst HIMAWARI_WIDTH = 550;\nconst HIMAWARI_BLOCK_SIZES = [1, 4, 8, 16, 20];\n\nconst SLIDER_WIDTH = 678;\nconst SLIDER_BLOCK_SIZES = [1, 2, 4, 8, 16];\n\nconst DSCOVR_WIDTH = 2048;\n\nconst METEOSAT_WIDTH = 3712;\nconst METEOSAT_HEIGHT = 3630;  // cut off white bar, credit in options\n\nconst IMAGE_QUALITY = 0.95;\nconst RELOAD_INTERVAL = 1 * 60 * 1000;  // 1 minutes\nconst RELOAD_TIME_INTERVAL = 10 * 1000;  // 10 seconds\n\n// local storage keys\nconst IMAGE_DATA_KEY = \"imageData\";\nconst CACHED_DATE_KEY = \"cachedDate\";\nconst CACHED_IMAGE_TYPE_KEY = \"cachedImageType\";\n\n// unknown date\nconst UNKNOWN: Date = null;\n\nconst isExtension = window['browser'] && !!browser.storage;\n\nconst DEFAULT_OPTIONS: {animated: boolean; imageType: ImageType} = {\n  animated: false,\n  imageType: VISIBLE_LIGHT,\n};\n\ninterface Tile {\n  x: number;\n  y: number;\n  url: string;\n}\n\n/**\n * Create a cached URL thanks to our friends at Google.\n * See https://gist.github.com/carlo/5379498\n *\n * Default caching is 5 days, in seconds\n */\nfunction getCachedUrl(url: string, cache = 5 * 24 * 60 * 60) {\n  if (isExtension) {\n    // don't use cache in the extension\n    return url;\n  } else {\n    return `https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url=${url}&container=focus&refresh=${cache}`;\n  }\n}\n\n/**\n * Pads a number with trailing zeros and makes it a string.\n */\nfunction pad(num: string | number, size: number) {\n  let s = num + \"\";\n  while (s.length < size) {\n    s = \"0\" + s;\n  }\n  return s;\n}\n\n/**\n * Returns an array of objects containing URLs and metadata\n * for Himawari 8 image tiles based on a given date.\n * Options:\n * - date: Date object\n * - type: boolean (default: visible light)\n * - blocks: alternative to zoom, how many images per row/column (default: 1)\n *      Has to be a valid block number (1, 4, 8, 16, 20)\n *\n * @param  {Object}       options\n */\nfunction himawariURLs(options: {date: Date; type?: ImageType; blocks: number}) {\n  const baseURL = HIMAWARI_BASE_URL + (options.type || VISIBLE_LIGHT);\n  const date = options.date;\n\n  // Define some image parameters\n  const blocks = options.blocks;\n\n  // compose URL\n  const tilesURL = `${baseURL}/${blocks}d/${HIMAWARI_WIDTH}/${utcFormat(\"%Y/%m/%d/%H%M%S\")(date)}`;\n  const tiles: Tile[] = [];\n\n  for (let y = 0; y < blocks; y++) {\n    for (let x = 0; x < blocks; x++) {\n      const url = `${tilesURL}_${x}_${y}.png`;\n\n      tiles.push({\n        url: getCachedUrl(url),\n        x,\n        y,\n      });\n    }\n  }\n\n  return {\n    blocks,\n    date,\n    tiles,\n  };\n}\n\nfunction sliderURLs(options: {date: Date; type: ImageType; blocks: number; level: number}) {\n  const date = options.date;\n\n  const blocks = options.blocks;\n  const level = options.level;\n\n  const typePath = {\n    GOES_16: \"geocolor\",\n    GOES_16_NATURAL: \"natural_color\",\n    GOES_17: \"geocolor\",\n    GOES_17_NATURAL: \"natural_color\",\n  }[options.type];\n\n  const which = {\n    GOES_16: 16,\n    GOES_16_NATURAL: 16,\n    GOES_17: 17,\n    GOES_17_NATURAL: 17,\n  }[options.type];\n\n  const formattedDate = utcFormat(\"%Y%m%d\")(options.date);\n  const formattedDateTime = utcFormat(\"%Y%m%d%H%M%S\")(options.date);\n\n  const tilesURL = `${SLIDER_BASE_URL}imagery/${formattedDate}/goes-${which}---full_disk/${typePath}/${formattedDateTime}/`;\n  const tiles: Tile[] = [];\n\n  for (let y = 0; y < blocks; y++) {\n    for (let x = 0; x < blocks; x++) {\n      const url = `${tilesURL}${pad(level, 2)}/${pad(y, 3)}_${pad(x, 3)}.png`;\n\n      tiles.push({\n        url: getCachedUrl(url),\n        x,\n        y,\n      });\n    }\n  }\n\n  return {\n    blocks,\n    date,\n    tiles,\n  };\n}\n\n/**\n * Get the date of the latest Himawari image by making an Ajax request.\n * @param   {string}  imageType  The type of image\n * @returns {date}  The parsed date\n */\nasync function getLatestHimawariDate(imageType: ImageType) {\n  const raw = await fetch(`https://himawari-8.appspot.com/latest${imageType === INFRARED ? \"?infrared=true\" : \"\"}`);\n  const data: {date: string} = await raw.json();\n\n  const latest = data.date;\n  return utcParse(\"%Y-%m-%d %H:%M:%S\")(latest)\n}\n\nasync function getLatestDscovrDate(imageType: ImageType) {\n  const raw = await fetch(`${DSCOVR_BASE_URL}api/${imageType === DSCOVR_EPIC_ENHANCED ? \"enhanced\" : \"natural\"}`);\n  const data: {date: string; image: string}[] = await raw.json();\n\n  if (data.length === 0) { return null; }\n\n  const latest = data[data.length - 1];\n  return {\n    date: utcParse(\"%Y-%m-%d %H:%M:%S\")(latest.date),\n    image: latest.image,\n  }\n}\n\nasync function getLatestSliderDate(imageType: ImageType) {\n  const which = {\n    GOES_16: 16,\n    GOES_16_NATURAL: 16,\n    GOES_17: 17,\n    GOES_17_NATURAL: 17,\n  }[imageType];\n\n  const raw = await fetch(`${SLIDER_BASE_URL}json/goes-${which}/full_disk/geocolor/latest_times.json`);\n  const data: {timestamps_int: string[]} = await raw.json();\n\n  return utcParse(\"%Y%m%d%H%M%S\")(data.timestamps_int[0]);\n}\n\nasync function getLatestMeteosatDate(imageType: ImageType) {\n  const raw = await fetch(`https://meteosat-url.appspot.com/msg${imageType === METEOSAT_IODC ? \"iodc\" : \"\"}`);\n  const data: {url: string; date: string} = await raw.json();\n\n  return {\n    date: utcParse(\"%Y-%m-%d %H:%M:%S\")(data.date),\n    image: data.url,\n  }\n}\n\n/**\n * Looks at the screen resolution and figures out a zoom level that returns images at a sufficient resolution.\n */\nfunction getOptimalNumberOfBlocks(width: number, sizes: number[]): {blocks: number; level: number} {\n  const height = (document.getElementById(\"output\")!).clientHeight * window.devicePixelRatio;\n  const minNumber = height / width;\n\n  for (let level = 0; level < sizes.length; level++) {\n    const blocks = sizes[level];\n    if (blocks > minNumber) {\n      return {blocks, level};\n    }\n  }\n\n  const lastLevel = sizes.length - 1;\n  return {blocks: sizes[lastLevel], level: lastLevel};\n}\n\n// the date that is currently loaded\nlet loadedDate: Date = null;\nlet loadedType: ImageType = null;\n\nfunction timeSince(date: Date) {\n  const seconds = Math.floor(((new Date()).getTime() - date.getTime()) / 1000);\n\n  let interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nfunction updateTimeAgo(date: Date) {\n  if (date === UNKNOWN) {\n    document.getElementById(\"time\").innerHTML = \"\";\n  } else {\n    document.getElementById(\"time\").innerHTML = `<abbr title=\"${date}\">${timeSince(date)}</abbr> ago`;\n  }\n}\n\n/*\n * Set the right class on the body so that we can have different css.\n */\nfunction setBodyClass(imageType: ImageType) {\n  document.body.classList.remove(\"himawari\");\n  document.body.classList.remove(\"dscovr\");\n  document.body.classList.remove(\"goes\");\n  document.body.classList.remove(\"goes16\");\n  document.body.classList.remove(\"meteosat\");\n\n  switch (imageType) {\n    case INFRARED:\n    case VISIBLE_LIGHT:\n      document.body.classList.add(\"himawari\");\n      break;\n    case DSCOVR_EPIC:\n    case DSCOVR_EPIC_ENHANCED:\n      document.body.classList.add(\"dscovr\");\n      break;\n    case GOES_16:\n    case GOES_16_NATURAL:\n    case GOES_17:\n    case GOES_17_NATURAL:\n      document.body.classList.add(\"goes\");\n      break;\n    case METEOSAT:\n    case METEOSAT_IODC:\n      document.body.classList.add(\"meteosat\");\n      break;\n    default:\n      console.warn(\"Unknown image type\", imageType);\n  }\n}\n\nfunction updateStateAndUI(date: Date, imageType: ImageType) {\n  updateTimeAgo(date);\n  loadedDate = date;\n  setBodyClass(imageType);\n  loadedType = imageType;\n}\n\n/**\n * Cache the image.\n */\nfunction storeCanvas(date: Date, imageType: ImageType, quality = IMAGE_QUALITY) {\n  // put date and image data in cache\n  const canvas = document.getElementById(\"output\") as HTMLCanvasElement;\n  const imageData = canvas.toDataURL(\"image/jpeg\", quality);\n  try {\n    localStorage.setItem(IMAGE_DATA_KEY, imageData);\n  } catch {\n    // try again with lower quality\n    if (quality > 0.5) {\n      quality -= 0.05;\n      console.warn(`Couldn't store image. Trying again with lower image quality of ${quality}`);\n      return storeCanvas(date, imageType, quality);\n    }\n  }\n  localStorage.setItem(CACHED_DATE_KEY, date.toString());\n  localStorage.setItem(CACHED_IMAGE_TYPE_KEY, imageType);\n}\n\n/**\n * Creates an image composed of tiles.\n * @param {Date object} date  The date for which to load the data.\n */\nfunction setHimawariImages(date: Date, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(date, imageType);\n  }\n\n  // get the URLs for all tiles\n  const result = himawariURLs({\n    blocks: getOptimalNumberOfBlocks(HIMAWARI_WIDTH, HIMAWARI_BLOCK_SIZES).blocks,\n    date,\n    type: imageType,\n  });\n\n  const pixels = result.blocks * HIMAWARI_WIDTH;\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\")!;\n  ctx.canvas.width = pixels;\n  ctx.canvas.height = pixels;\n\n  // add image to canvas\n  function addImage(tile: Tile) {\n    return new Promise((resolve) => {\n      const img = new Image();\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.onload = () => {\n        ctx.drawImage(img, tile.x * HIMAWARI_WIDTH, tile.y * HIMAWARI_WIDTH, HIMAWARI_WIDTH, HIMAWARI_WIDTH);\n        resolve(null);\n      };\n      img.src = tile.url;\n    });\n  }\n\n  Promise.all(result.tiles.map(tile => addImage(tile)))\n    .catch(error => {\n      throw error;\n    })\n    .then(() => {\n      if (!initialLoad) {\n        // copy canvas into output in one step\n        const output = document.getElementById(\"output\") as HTMLCanvasElement;\n        const outCtx = output.getContext(\"2d\");\n        outCtx.canvas.width = pixels;\n        outCtx.canvas.height = pixels;\n        outCtx.drawImage(canvas, 0, 0);\n      }\n\n      updateStateAndUI(date, imageType);\n\n      storeCanvas(date, imageType);\n    });\n}\n\nfunction setDscovrImage(latest: {date: Date; image: string}, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && latest.date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(latest.date, imageType);\n  }\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.canvas.width = DSCOVR_WIDTH;\n  ctx.canvas.height = DSCOVR_WIDTH;\n\n  const img = new Image();\n  img.setAttribute(\"crossOrigin\", \"anonymous\");\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = DSCOVR_WIDTH;\n      outCtx.canvas.height = DSCOVR_WIDTH;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(latest.date, imageType);\n\n    storeCanvas(latest.date, imageType);\n  };\n\n  const type = imageType === DSCOVR_EPIC_ENHANCED ? \"enhanced\" : \"natural\";\n  const month = pad(latest.date.getMonth() + 1, 2);\n  const date = pad(latest.date.getDate(), 2);\n  img.src = getCachedUrl(`${DSCOVR_BASE_URL}archive/${type}/${latest.date.getFullYear()}/${month}/${date}/png/${latest.image}.png`);\n}\n\nfunction setSliderImages(date: Date, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(date, imageType);\n  }\n\n  // get the URLs for all tiles\n  const result = sliderURLs({\n    date,\n    type: imageType,\n    ...getOptimalNumberOfBlocks(SLIDER_WIDTH, SLIDER_BLOCK_SIZES),\n  });\n\n  const pixels = result.blocks * SLIDER_WIDTH;\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\")!;\n  ctx.canvas.width = pixels;\n  ctx.canvas.height = pixels;\n\n  // add image to canvas\n  function addImage(tile: Tile) {\n    return new Promise((resolve) => {\n      const img = new Image();\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.onload = () => {\n        ctx.drawImage(img, tile.x * SLIDER_WIDTH, tile.y * SLIDER_WIDTH, SLIDER_WIDTH, SLIDER_WIDTH);\n        resolve(null);\n      };\n      img.src = tile.url;\n    });\n  }\n\n  Promise.all(result.tiles.map(tile => addImage(tile)))\n    .catch(error => {\n      throw error;\n    })\n    .then(() => {\n      if (!initialLoad) {\n        // copy canvas into output in one step\n        const output = document.getElementById(\"output\") as HTMLCanvasElement;\n        const outCtx = output.getContext(\"2d\");\n        outCtx.canvas.width = pixels;\n        outCtx.canvas.height = pixels;\n        outCtx.drawImage(canvas, 0, 0);\n      }\n\n      updateStateAndUI(date, imageType);\n\n      storeCanvas(date, imageType);\n    });\n}\n\nfunction setMeteosatImages(latest: {date: Date; image: string}, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && latest.date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(latest.date, imageType);\n  }\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.canvas.width = METEOSAT_WIDTH;\n  ctx.canvas.height = METEOSAT_HEIGHT;\n\n  const img = new Image();\n  img.setAttribute(\"crossOrigin\", \"anonymous\");\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = METEOSAT_WIDTH;\n      outCtx.canvas.height = METEOSAT_HEIGHT;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(latest.date, imageType);\n\n    storeCanvas(latest.date, imageType);\n  };\n\n  img.src = getCachedUrl(latest.image);\n}\n\n/* Load latest image(s) date and images for that date */\nasync function setLatestImage() {\n  if (!navigator.onLine) {\n    // browser is offline, no need to do this\n    return;\n  }\n\n  if (isExtension) {\n    document.title = \"New Tab\";\n\n    const {imageType} = await browser.storage.sync.get(DEFAULT_OPTIONS)\n\n    switch (imageType) {\n      case DSCOVR_EPIC:\n      case DSCOVR_EPIC_ENHANCED:\n        setDscovrImage(await getLatestDscovrDate(imageType), imageType);\n        break;\n      case GOES_16:\n      case GOES_16_NATURAL:\n      case GOES_17:\n      case GOES_17_NATURAL:\n        setSliderImages(await getLatestSliderDate(imageType), imageType);\n        break;\n      case METEOSAT:\n      case METEOSAT_IODC:\n        setMeteosatImages(await getLatestMeteosatDate(imageType), imageType)\n        break;\n      case INFRARED:\n      case VISIBLE_LIGHT:\n      default:\n        setHimawariImages(await getLatestHimawariDate(imageType), imageType)\n        break;\n    }\n  } else {\n    // if we are not in the extension, let's always load visible light\n    setHimawariImages(await getLatestHimawariDate(VISIBLE_LIGHT), VISIBLE_LIGHT)\n  }\n}\n\n/** Load image from local storage */\nfunction setCachedImage() {\n  const canvas = document.getElementById(\"output\") as HTMLCanvasElement;\n  const ctx = canvas.getContext(\"2d\");\n  const date = new Date(localStorage.getItem(CACHED_DATE_KEY));\n\n  const img = new Image();\n  img.onload = () => {\n    ctx.canvas.width = img.width;\n    ctx.canvas.height = img.height;\n    ctx.drawImage(img, 0, 0);\n\n    updateStateAndUI(date, localStorage.getItem(CACHED_IMAGE_TYPE_KEY) as ImageType);\n  };\n  img.src = localStorage.getItem(IMAGE_DATA_KEY);\n}\n\n// check if there are new images form time to time\nwindow.setInterval(setLatestImage, RELOAD_INTERVAL);\n\n// also load a new image when we come back online\nwindow.addEventListener(\"online\", setLatestImage);\n\nfunction init() {\n  // initial loading\n  if (localStorage.getItem(CACHED_DATE_KEY)) {\n    setCachedImage();\n  }\n  setLatestImage();\n}\n\n// enable or disable animation\nif (isExtension) {\n  browser.storage.sync.get(DEFAULT_OPTIONS).then(options => {\n    if (options.animated) {\n      document.body.classList.add(\"animated\");\n    } else {\n      document.body.classList.remove(\"animated\");\n    }\n    init();\n  });\n} else {\n  init();\n}\n\n// update the time ago\nwindow.setInterval(() => {\n  if (loadedDate) {\n    updateTimeAgo(loadedDate);\n  }\n}, RELOAD_TIME_INTERVAL);\n\n// hide some things if we are not an extension\nif (isExtension) {\n  // when we are in an extension and the storage updates, try to load the new image\n  browser.storage.onChanged.addListener(setLatestImage);\n\n  document.body.classList.add(\"extension\");\n  document.getElementById(\"go-to-options\").addEventListener(\"click\", () => {\n    browser.runtime.openOptionsPage();\n  });\n}\n\ndocument.getElementById(\"explore\").addEventListener(\"click\", () => {\n  switch (loadedType) {\n    case DSCOVR_EPIC:\n      window.open(DSCOVR_EXPLORER, \"_self\");\n      break;\n    case DSCOVR_EPIC_ENHANCED:\n      window.open(DSCOVR_EXPLORER_ENHANCED, \"_self\");\n      break;\n    case GOES_16:\n    case GOES_16_NATURAL:\n    case GOES_17:\n    case GOES_17_NATURAL:\n      window.open(SLIDER_EXPLORER, \"_self\");\n      break;\n    case INFRARED:\n    case VISIBLE_LIGHT:\n      window.open(HIMAWARI_EXPLORER, \"_self\");\n      break;\n    case METEOSAT:\n    case METEOSAT_IODC:\n      window.open(METEOSAT_EXPLORER, \"_self\");\n      break;\n    default:\n      window.alert(\"No explorer found.\");\n      break;\n  }\n});\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","t0","Date","t1","newInterval","floori","offseti","count","field","interval","date","arguments","length","floor","ceil","round","d0","d1","offset","Math","range","start","stop","previous","push","filter","test","setTime","end","every","isFinite","d","durationDay","durationWeek","day","setHours","setDate","getDate","getTimezoneOffset","weekday","i","getDay","sunday","monday","thursday","year","setMonth","setFullYear","getFullYear","k","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","y","m","H","M","S","L","utcDate","UTC","newDate","locale","utcFormat","utcParse","pads","-","_","0","numberRe","percentRe","requoteRe","pad","fill","width","sign","string","Array","join","requote","s","replace","formatRe","names","RegExp","map","formatLookup","Map","name","toLowerCase","parseWeekdayNumberSunday","n","exec","slice","w","parseWeekdayNumberMonday","u","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","q","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","p","formatHour24","getHours","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","getMonth","formatMinutes","getMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","timeSunday","dISO","timeThursday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","getUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","a","A","b","B","c","f","g","G","I","j","x","X","Y","%","utcFormats","parses","get","parseSpecifier","newFormat","specifier","format","charCodeAt","charAt","newParse","week","undefined","parse","toString","formatLocale","DSCOVR_BASE_URL","SLIDER_BASE_URL","DSCOVR_EXPLORER","INFRARED","VISIBLE_LIGHT","DSCOVR_EPIC","DSCOVR_EPIC_ENHANCED","GOES_16","GOES_16_NATURAL","GOES_17","GOES_17_NATURAL","METEOSAT","METEOSAT_IODC","HIMAWARI_WIDTH","HIMAWARI_BLOCK_SIZES","SLIDER_WIDTH","SLIDER_BLOCK_SIZES","DSCOVR_WIDTH","IMAGE_DATA_KEY","CACHED_DATE_KEY","CACHED_IMAGE_TYPE_KEY","isExtension","window","browser","storage","DEFAULT_OPTIONS","animated","imageType","getCachedUrl","url","cache","num","size","getLatestHimawariDate","raw","fetch","latest","json","getOptimalNumberOfBlocks","sizes","minNumber","document","getElementById","clientHeight","devicePixelRatio","level","blocks","lastLevel","loadedDate","loadedType","updateTimeAgo","innerHTML","seconds","getTime","timeSince","updateStateAndUI","body","classList","remove","add","console","warn","setBodyClass","storeCanvas","quality","imageData","toDataURL","localStorage","setItem","setHimawariImages","initialLoad","getItem","options","baseURL","type","tilesURL","tiles","himawariURLs","pixels","canvas","createElement","ctx","getContext","height","all","tile","img","Image","setAttribute","onload","drawImage","src","addImage","catch","error","outCtx","setSliderImages","typePath","which","formattedDate","formattedDateTime","sliderURLs","setLatestImage","navigator","onLine","title","sync","month","image","setDscovrImage","data","getLatestDscovrDate","timestamps_int","getLatestSliderDate","setMeteosatImages","getLatestMeteosatDate","init","setCachedImage","setInterval","addEventListener","onChanged","addListener","runtime","openOptionsPage","open","alert"],"mappings":"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"}