{"version":3,"file":"bundle.js","sources":["node_modules/d3-time/src/interval.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/utcDay.js","node_modules/d3-time/src/utcWeek.js","node_modules/d3-time/src/utcYear.js","node_modules/d3-time-format/src/locale.js","node_modules/d3-time-format/src/defaultLocale.js","src/index.ts"],"sourcesContent":["var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import { utcFormat, utcParse } from \"d3-time-format\";\n\n// base url for images\nconst HIMAWARI_BASE_URL = \"https://himawari8-dl.nict.go.jp/himawari8/img/\";\nconst DSCOVR_BASE_URL = \"https://epic.gsfc.nasa.gov/\";\n\nconst SLIDER_BASE_URL = \"https://rammb-slider.cira.colostate.edu/data/\";\n\n// links to online image explorers\nconst HIMAWARI_EXPLORER = \"https://himawari8.nict.go.jp/himawari8-image.htm?sI=D531106\";\nconst DSCOVR_EXPLORER = \"https://epic.gsfc.nasa.gov\";\nconst DSCOVR_EXPLORER_ENHANCED = DSCOVR_EXPLORER + \"/enhanced\";\nconst SLIDER_EXPLORER = \"https://rammb-slider.cira.colostate.edu/\";\nconst METEOSAT_EXPLORER = \"https://eumetview.eumetsat.int/static-images/\";\n\n// image types\nconst INFRARED = \"INFRARED_FULL\";\nconst VISIBLE_LIGHT = \"D531106\";\nconst DSCOVR_EPIC = \"EPIC\";\nconst DSCOVR_EPIC_ENHANCED = \"EPIC_ENHANCED\";\nconst GOES_16 = \"GOES_16\";\nconst GOES_16_NATURAL = \"GOES_16_NATURAL\";\nconst GOES_17 = \"GOES_17\";\nconst GOES_17_NATURAL = \"GOES_17_NATURAL\";\nconst METEOSAT = \"METEOSAT\";\nconst METEOSAT_IODC = \"METEOSAT_IODC\";\n\ntype ImageType = typeof INFRARED | typeof VISIBLE_LIGHT | typeof DSCOVR_EPIC |\n  typeof DSCOVR_EPIC_ENHANCED | typeof GOES_16 | typeof GOES_16_NATURAL | typeof GOES_17 | typeof GOES_17_NATURAL |\n  typeof METEOSAT | typeof METEOSAT_IODC;\n\nconst HIMAWARI_WIDTH = 550;\nconst HIMAWARI_BLOCK_SIZES = [1, 4, 8, 16, 20];\n\nconst SLIDER_WIDTH = 678;\nconst SLIDER_BLOCK_SIZES = [1, 2, 4, 8, 16];\n\nconst DSCOVR_WIDTH = 2048;\n\nconst METEOSAT_WIDTH = 3712;\nconst METEOSAT_HEIGHT = 3630;  // cut off white bar, credit in options\n\nconst IMAGE_QUALITY = 0.95;\nconst RELOAD_INTERVAL = 1 * 60 * 1000;  // 1 minutes\nconst RELOAD_TIME_INTERVAL = 10 * 1000;  // 10 seconds\n\n// local storage keys\nconst IMAGE_DATA_KEY = \"imageData\";\nconst CACHED_DATE_KEY = \"cachedDate\";\nconst CACHED_IMAGE_TYPE_KEY = \"cachedImageType\";\n\n// unknown date\nconst UNKNOWN: Date = null;\n\nconst isExtension = window['browser'] && !!browser.storage;\n\nconst DEFAULT_OPTIONS: {animated: boolean; imageType: ImageType} = {\n  animated: false,\n  imageType: VISIBLE_LIGHT,\n};\n\ninterface Tile {\n  x: number;\n  y: number;\n  url: string;\n}\n\n/**\n * Create a cached URL thanks to our friends at Google.\n * See https://gist.github.com/carlo/5379498\n *\n * Default caching is 5 days, in seconds\n */\nfunction getCachedUrl(url: string, cache = 5 * 24 * 60 * 60) {\n  if (isExtension) {\n    // don't use cache in the extension\n    return url;\n  } else {\n    return `https://images1-focus-opensocial.googleusercontent.com/gadgets/proxy?url=${url}&container=focus&refresh=${cache}`;\n  }\n}\n\n/**\n * Pads a number with trailing zeros and makes it a string.\n */\nfunction pad(num: string | number, size: number) {\n  let s = num + \"\";\n  while (s.length < size) {\n    s = \"0\" + s;\n  }\n  return s;\n}\n\n/**\n * Returns an array of objects containing URLs and metadata\n * for Himawari 8 image tiles based on a given date.\n * Options:\n * - date: Date object\n * - type: boolean (default: visible light)\n * - blocks: alternative to zoom, how many images per row/column (default: 1)\n *      Has to be a valid block number (1, 4, 8, 16, 20)\n *\n * @param  {Object}       options\n */\nfunction himawariURLs(options: {date: Date; type?: ImageType; blocks: number}) {\n  const baseURL = HIMAWARI_BASE_URL + (options.type || VISIBLE_LIGHT);\n  const date = options.date;\n\n  // Define some image parameters\n  const blocks = options.blocks;\n\n  // compose URL\n  const tilesURL = `${baseURL}/${blocks}d/${HIMAWARI_WIDTH}/${utcFormat(\"%Y/%m/%d/%H%M%S\")(date)}`;\n  const tiles: Tile[] = [];\n\n  for (let y = 0; y < blocks; y++) {\n    for (let x = 0; x < blocks; x++) {\n      const url = `${tilesURL}_${x}_${y}.png`;\n\n      tiles.push({\n        url: getCachedUrl(url),\n        x,\n        y,\n      });\n    }\n  }\n\n  return {\n    blocks,\n    date,\n    tiles,\n  };\n}\n\nfunction sliderURLs(options: {date: Date; type: ImageType; blocks: number; level: number}) {\n  const date = options.date;\n\n  const blocks = options.blocks;\n  const level = options.level;\n\n  const typePath = {\n    GOES_16: \"geocolor\",\n    GOES_16_NATURAL: \"natural_color\",\n    GOES_17: \"geocolor\",\n    GOES_17_NATURAL: \"natural_color\",\n  }[options.type];\n\n  const which = {\n    GOES_16: 16,\n    GOES_16_NATURAL: 16,\n    GOES_17: 17,\n    GOES_17_NATURAL: 17,\n  }[options.type];\n\n  const formattedDate = utcFormat(\"%Y/%m/%d\")(options.date);\n  const formattedDateTime = utcFormat(\"%Y%m%d%H%M%S\")(options.date);\n\n  const tilesURL = `${SLIDER_BASE_URL}imagery/${formattedDate}/goes-${which}---full_disk/${typePath}/${formattedDateTime}/`;\n  const tiles: Tile[] = [];\n\n  for (let y = 0; y < blocks; y++) {\n    for (let x = 0; x < blocks; x++) {\n      const url = `${tilesURL}${pad(level, 2)}/${pad(y, 3)}_${pad(x, 3)}.png`;\n\n      tiles.push({\n        url: getCachedUrl(url),\n        x,\n        y,\n      });\n    }\n  }\n\n  return {\n    blocks,\n    date,\n    tiles,\n  };\n}\n\n/**\n * Get the date of the latest Himawari image by making an Ajax request.\n * @param   {string}  imageType  The type of image\n * @returns {date}  The parsed date\n */\nasync function getLatestHimawariDate(imageType: ImageType) {\n  const raw = await fetch(`https://himawari-8.appspot.com/latest${imageType === INFRARED ? \"?infrared=true\" : \"\"}`);\n  const data: {date: string} = await raw.json();\n\n  const latest = data.date;\n  return utcParse(\"%Y-%m-%d %H:%M:%S\")(latest)\n}\n\nasync function getLatestDscovrDate(imageType: ImageType) {\n  const raw = await fetch(`${DSCOVR_BASE_URL}api/${imageType === DSCOVR_EPIC_ENHANCED ? \"enhanced\" : \"natural\"}`);\n  const data: {date: string; image: string}[] = await raw.json();\n\n  if (data.length === 0) { return null; }\n\n  const latest = data[data.length - 1];\n  return {\n    date: utcParse(\"%Y-%m-%d %H:%M:%S\")(latest.date),\n    image: latest.image,\n  }\n}\n\nasync function getLatestSliderDate(imageType: ImageType) {\n  const which = {\n    GOES_16: 16,\n    GOES_16_NATURAL: 16,\n    GOES_17: 17,\n    GOES_17_NATURAL: 17,\n  }[imageType];\n\n  const raw = await fetch(`${SLIDER_BASE_URL}json/goes-${which}/full_disk/geocolor/latest_times.json`);\n  const data: {timestamps_int: string[]} = await raw.json();\n\n  return utcParse(\"%Y%m%d%H%M%S\")(data.timestamps_int[0]);\n}\n\nasync function getLatestMeteosatDate(imageType: ImageType) {\n  const raw = await fetch(`https://meteosat-url.appspot.com/msg${imageType === METEOSAT_IODC ? \"iodc\" : \"\"}`);\n  const data: {url: string; date: string} = await raw.json();\n\n  return {\n    date: utcParse(\"%Y-%m-%d %H:%M:%S\")(data.date),\n    image: data.url,\n  }\n}\n\n/**\n * Looks at the screen resolution and figures out a zoom level that returns images at a sufficient resolution.\n */\nfunction getOptimalNumberOfBlocks(width: number, sizes: number[]): {blocks: number; level: number} {\n  const height = (document.getElementById(\"output\")!).clientHeight * window.devicePixelRatio;\n  const minNumber = height / width;\n\n  for (let level = 0; level < sizes.length; level++) {\n    const blocks = sizes[level];\n    if (blocks > minNumber) {\n      return {blocks, level};\n    }\n  }\n\n  const lastLevel = sizes.length - 1;\n  return {blocks: sizes[lastLevel], level: lastLevel};\n}\n\n// the date that is currently loaded\nlet loadedDate: Date = null;\nlet loadedType: ImageType = null;\n\nfunction timeSince(date: Date) {\n  const seconds = Math.floor(((new Date()).getTime() - date.getTime()) / 1000);\n\n  let interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n\nfunction updateTimeAgo(date: Date) {\n  if (date === UNKNOWN) {\n    document.getElementById(\"time\").innerHTML = \"\";\n  } else {\n    document.getElementById(\"time\").innerHTML = `<abbr title=\"${date}\">${timeSince(date)}</abbr> ago`;\n  }\n}\n\n/*\n * Set the right class on the body so that we can have different css.\n */\nfunction setBodyClass(imageType: ImageType) {\n  document.body.classList.remove(\"himawari\");\n  document.body.classList.remove(\"dscovr\");\n  document.body.classList.remove(\"goes\");\n  document.body.classList.remove(\"goes16\");\n  document.body.classList.remove(\"meteosat\");\n\n  switch (imageType) {\n    case INFRARED:\n    case VISIBLE_LIGHT:\n      document.body.classList.add(\"himawari\");\n      break;\n    case DSCOVR_EPIC:\n    case DSCOVR_EPIC_ENHANCED:\n      document.body.classList.add(\"dscovr\");\n      break;\n    case GOES_16:\n    case GOES_16_NATURAL:\n    case GOES_17:\n    case GOES_17_NATURAL:\n      document.body.classList.add(\"goes\");\n      break;\n    case METEOSAT:\n    case METEOSAT_IODC:\n      document.body.classList.add(\"meteosat\");\n      break;\n    default:\n      console.warn(\"Unknown image type\", imageType);\n  }\n}\n\nfunction updateStateAndUI(date: Date, imageType: ImageType) {\n  updateTimeAgo(date);\n  loadedDate = date;\n  setBodyClass(imageType);\n  loadedType = imageType;\n}\n\n/**\n * Cache the image.\n */\nfunction storeCanvas(date: Date, imageType: ImageType, quality = IMAGE_QUALITY) {\n  // put date and image data in cache\n  const canvas = document.getElementById(\"output\") as HTMLCanvasElement;\n  const imageData = canvas.toDataURL(\"image/jpeg\", quality);\n  try {\n    localStorage.setItem(IMAGE_DATA_KEY, imageData);\n  } catch {\n    // try again with lower quality\n    if (quality > 0.5) {\n      quality -= 0.05;\n      console.warn(`Couldn't store image. Trying again with lower image quality of ${quality}`);\n      return storeCanvas(date, imageType, quality);\n    }\n  }\n  localStorage.setItem(CACHED_DATE_KEY, date.toString());\n  localStorage.setItem(CACHED_IMAGE_TYPE_KEY, imageType);\n}\n\n/**\n * Creates an image composed of tiles.\n * @param {Date object} date  The date for which to load the data.\n */\nfunction setHimawariImages(date: Date, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(date, imageType);\n  }\n\n  // get the URLs for all tiles\n  const result = himawariURLs({\n    blocks: getOptimalNumberOfBlocks(HIMAWARI_WIDTH, HIMAWARI_BLOCK_SIZES).blocks,\n    date,\n    type: imageType,\n  });\n\n  const pixels = result.blocks * HIMAWARI_WIDTH;\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\")!;\n  ctx.canvas.width = pixels;\n  ctx.canvas.height = pixels;\n\n  // add image to canvas\n  function addImage(tile: Tile) {\n    return new Promise<void>((resolve) => {\n      const img = new Image();\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.onload = () => {\n        ctx.drawImage(img, tile.x * HIMAWARI_WIDTH, tile.y * HIMAWARI_WIDTH, HIMAWARI_WIDTH, HIMAWARI_WIDTH);\n        resolve();\n      };\n      img.src = tile.url;\n    });\n  }\n\n  Promise.all(result.tiles.map(tile => addImage(tile)))\n    .catch(error => {\n      throw error;\n    })\n    .then(() => {\n      if (!initialLoad) {\n        // copy canvas into output in one step\n        const output = document.getElementById(\"output\") as HTMLCanvasElement;\n        const outCtx = output.getContext(\"2d\");\n        outCtx.canvas.width = pixels;\n        outCtx.canvas.height = pixels;\n        outCtx.drawImage(canvas, 0, 0);\n      }\n\n      updateStateAndUI(date, imageType);\n\n      storeCanvas(date, imageType);\n    });\n}\n\nfunction setDscovrImage(latest: {date: Date; image: string}, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && latest.date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(latest.date, imageType);\n  }\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.canvas.width = DSCOVR_WIDTH;\n  ctx.canvas.height = DSCOVR_WIDTH;\n\n  const img = new Image();\n  img.setAttribute(\"crossOrigin\", \"anonymous\");\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = DSCOVR_WIDTH;\n      outCtx.canvas.height = DSCOVR_WIDTH;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(latest.date, imageType);\n\n    storeCanvas(latest.date, imageType);\n  };\n\n  const type = imageType === DSCOVR_EPIC_ENHANCED ? \"enhanced\" : \"natural\";\n  const month = pad(latest.date.getMonth() + 1, 2);\n  const date = pad(latest.date.getDate(), 2);\n  img.src = getCachedUrl(`${DSCOVR_BASE_URL}archive/${type}/${latest.date.getFullYear()}/${month}/${date}/png/${latest.image}.png`);\n}\n\nfunction setSliderImages(date: Date, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(date, imageType);\n  }\n\n  // get the URLs for all tiles\n  const result = sliderURLs({\n    date,\n    type: imageType,\n    ...getOptimalNumberOfBlocks(SLIDER_WIDTH, SLIDER_BLOCK_SIZES),\n  });\n\n  const pixels = result.blocks * SLIDER_WIDTH;\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\")!;\n  ctx.canvas.width = pixels;\n  ctx.canvas.height = pixels;\n\n  // add image to canvas\n  function addImage(tile: Tile) {\n    return new Promise<void>((resolve) => {\n      const img = new Image();\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.onload = () => {\n        ctx.drawImage(img, tile.x * SLIDER_WIDTH, tile.y * SLIDER_WIDTH, SLIDER_WIDTH, SLIDER_WIDTH);\n        resolve();\n      };\n      img.src = tile.url;\n    });\n  }\n\n  Promise.all(result.tiles.map(tile => addImage(tile)))\n    .catch(error => {\n      throw error;\n    })\n    .then(() => {\n      if (!initialLoad) {\n        // copy canvas into output in one step\n        const output = document.getElementById(\"output\") as HTMLCanvasElement;\n        const outCtx = output.getContext(\"2d\");\n        outCtx.canvas.width = pixels;\n        outCtx.canvas.height = pixels;\n        outCtx.drawImage(canvas, 0, 0);\n      }\n\n      updateStateAndUI(date, imageType);\n\n      storeCanvas(date, imageType);\n    });\n}\n\nfunction setMeteosatImages(latest: {date: Date; image: string}, imageType: ImageType) {\n  // no need to set images if we have up to date images and the image type has not changed\n  if (loadedDate && latest.date.getTime() === loadedDate.getTime() && loadedType === imageType) {\n    return;\n  }\n\n  // if we haven't loaded images before, we want to show progress\n  const initialLoad = !localStorage.getItem(CACHED_DATE_KEY);\n\n  // immediately set the type and body class because we are not loading in the background\n  if (initialLoad) {\n    updateStateAndUI(latest.date, imageType);\n  }\n\n  const canvas = initialLoad ? document.getElementById(\"output\") as HTMLCanvasElement : document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  ctx.canvas.width = METEOSAT_WIDTH;\n  ctx.canvas.height = METEOSAT_HEIGHT;\n\n  const img = new Image();\n  img.setAttribute(\"crossOrigin\", \"anonymous\");\n  img.onload = () => {\n    ctx.drawImage(img, 0, 0);\n\n    if (!initialLoad) {\n      // copy canvas into output in one step\n      const output = document.getElementById(\"output\") as HTMLCanvasElement;\n      const outCtx = output.getContext(\"2d\");\n      outCtx.canvas.width = METEOSAT_WIDTH;\n      outCtx.canvas.height = METEOSAT_HEIGHT;\n      outCtx.drawImage(canvas, 0, 0);\n    }\n\n    updateStateAndUI(latest.date, imageType);\n\n    storeCanvas(latest.date, imageType);\n  };\n\n  img.src = getCachedUrl(latest.image);\n}\n\n/* Load latest image(s) date and images for that date */\nasync function setLatestImage() {\n  if (!navigator.onLine) {\n    // browser is offline, no need to do this\n    return;\n  }\n\n  if (isExtension) {\n    document.title = \"New Tab\";\n\n    const {imageType} = await browser.storage.sync.get(DEFAULT_OPTIONS)\n\n    switch (imageType) {\n      case DSCOVR_EPIC:\n      case DSCOVR_EPIC_ENHANCED:\n        setDscovrImage(await getLatestDscovrDate(imageType), imageType);\n        break;\n      case GOES_16:\n      case GOES_16_NATURAL:\n      case GOES_17:\n      case GOES_17_NATURAL:\n        setSliderImages(await getLatestSliderDate(imageType), imageType);\n        break;\n      case METEOSAT:\n      case METEOSAT_IODC:\n        setMeteosatImages(await getLatestMeteosatDate(imageType), imageType)\n        break;\n      case INFRARED:\n      case VISIBLE_LIGHT:\n      default:\n        setHimawariImages(await getLatestHimawariDate(imageType), imageType)\n        break;\n    }\n  } else {\n    // if we are not in the extension, let's always load visible light\n    setHimawariImages(await getLatestHimawariDate(VISIBLE_LIGHT), VISIBLE_LIGHT)\n  }\n}\n\n/** Load image from local storage */\nfunction setCachedImage() {\n  const canvas = document.getElementById(\"output\") as HTMLCanvasElement;\n  const ctx = canvas.getContext(\"2d\");\n  const date = new Date(localStorage.getItem(CACHED_DATE_KEY));\n\n  const img = new Image();\n  img.onload = () => {\n    ctx.canvas.width = img.width;\n    ctx.canvas.height = img.height;\n    ctx.drawImage(img, 0, 0);\n\n    updateStateAndUI(date, localStorage.getItem(CACHED_IMAGE_TYPE_KEY) as ImageType);\n  };\n  img.src = localStorage.getItem(IMAGE_DATA_KEY);\n}\n\n// check if there are new images form time to time\nwindow.setInterval(setLatestImage, RELOAD_INTERVAL);\n\n// also load a new image when we come back online\nwindow.addEventListener(\"online\", setLatestImage);\n\nfunction init() {\n  // initial loading\n  if (localStorage.getItem(CACHED_DATE_KEY)) {\n    setCachedImage();\n  }\n  setLatestImage();\n}\n\n// enable or disable animation\nif (isExtension) {\n  browser.storage.sync.get(DEFAULT_OPTIONS).then(options => {\n    if (options.animated) {\n      document.body.classList.add(\"animated\");\n    } else {\n      document.body.classList.remove(\"animated\");\n    }\n    init();\n  });\n} else {\n  init();\n}\n\n// update the time ago\nwindow.setInterval(() => {\n  if (loadedDate) {\n    updateTimeAgo(loadedDate);\n  }\n}, RELOAD_TIME_INTERVAL);\n\n// hide some things if we are not an extension\nif (isExtension) {\n  // when we are in an extension and the storage updates, try to load the new image\n  browser.storage.onChanged.addListener(setLatestImage);\n\n  document.body.classList.add(\"extension\");\n  document.getElementById(\"go-to-options\").addEventListener(\"click\", () => {\n    browser.runtime.openOptionsPage();\n  });\n}\n\ndocument.getElementById(\"explore\").addEventListener(\"click\", () => {\n  switch (loadedType) {\n    case DSCOVR_EPIC:\n      window.open(DSCOVR_EXPLORER, \"_self\");\n      break;\n    case DSCOVR_EPIC_ENHANCED:\n      window.open(DSCOVR_EXPLORER_ENHANCED, \"_self\");\n      break;\n    case GOES_16:\n    case GOES_16_NATURAL:\n    case GOES_17:\n    case GOES_17_NATURAL:\n      window.open(SLIDER_EXPLORER, \"_self\");\n      break;\n    case INFRARED:\n    case VISIBLE_LIGHT:\n      window.open(HIMAWARI_EXPLORER, \"_self\");\n      break;\n    case METEOSAT:\n    case METEOSAT_IODC:\n      window.open(METEOSAT_EXPLORER, \"_self\");\n      break;\n    default:\n      window.alert(\"No explorer found.\");\n      break;\n  }\n});\n"],"names":["t0","Date","t1","newInterval","floori","offseti","count","field","interval","date","arguments","length","floor","ceil","round","d0","d1","offset","step","Math","range","start","stop","previous","push","filter","test","setTime","end","every","isFinite","d","durationMinute","durationSecond","durationDay","durationHour","durationWeek","setHours","setDate","getDate","getTimezoneOffset","weekday","i","getDay","sunday","monday","thursday","year","setMonth","setFullYear","getFullYear","k","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","y","m","H","M","S","L","utcDate","UTC","newDate","locale","utcFormat","utcParse","pads","_","numberRe","percentRe","requoteRe","pad","value","fill","width","sign","string","Array","join","requote","s","replace","formatRe","names","RegExp","map","formatLookup","Map","name","toLowerCase","parseWeekdayNumberSunday","n","exec","slice","w","parseWeekdayNumberMonday","u","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","q","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","p","formatHour24","getHours","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","getMonth","formatMinutes","getMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","day","formatWeekNumberSunday","timeSunday","dISO","timeThursday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","utcDay","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","getUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","a","A","b","B","c","e","f","g","G","I","j","x","X","Y","utcFormats","parses","get","parseSpecifier","newFormat","specifier","format","charCodeAt","charAt","newParse","week","undefined","parse","toString","formatLocale","DSCOVR_BASE_URL","SLIDER_BASE_URL","DSCOVR_EXPLORER","INFRARED","VISIBLE_LIGHT","DSCOVR_EPIC","DSCOVR_EPIC_ENHANCED","GOES_16","GOES_16_NATURAL","GOES_17","GOES_17_NATURAL","METEOSAT","METEOSAT_IODC","HIMAWARI_WIDTH","HIMAWARI_BLOCK_SIZES","SLIDER_WIDTH","SLIDER_BLOCK_SIZES","DSCOVR_WIDTH","IMAGE_DATA_KEY","CACHED_DATE_KEY","CACHED_IMAGE_TYPE_KEY","isExtension","window","browser","storage","DEFAULT_OPTIONS","animated","imageType","getCachedUrl","url","cache","num","size","async","getLatestHimawariDate","raw","fetch","latest","json","getOptimalNumberOfBlocks","sizes","minNumber","document","getElementById","clientHeight","devicePixelRatio","level","blocks","lastLevel","loadedDate","loadedType","updateTimeAgo","innerHTML","seconds","getTime","timeSince","updateStateAndUI","body","classList","remove","add","console","warn","setBodyClass","storeCanvas","quality","imageData","toDataURL","localStorage","setItem","setHimawariImages","initialLoad","getItem","result","options","baseURL","type","tilesURL","tiles","himawariURLs","pixels","canvas","createElement","ctx","getContext","height","Promise","all","tile","resolve","img","Image","setAttribute","onload","drawImage","src","addImage","catch","error","then","outCtx","setSliderImages","typePath","which","formattedDate","formattedDateTime","sliderURLs","setLatestImage","navigator","onLine","title","sync","month","image","setDscovrImage","data","getLatestDscovrDate","timestamps_int","getLatestSliderDate","setMeteosatImages","getLatestMeteosatDate","init","setCachedImage","setInterval","addEventListener","onChanged","addListener","runtime","openOptionsPage","open","alert"],"mappings":"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"}